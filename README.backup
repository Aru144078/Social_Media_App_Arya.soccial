# Arya.social

A full-stack social networking platform built with React, Node.js, and AWS deployment following senior developer best practices.

## âœ¨ Features

- **Secure Authentication** - JWT-based auth with bcrypt password hashing
- **Post Management** - Create, edit, delete posts with rich content
- **Image Upload** - Support for image uploads with file validation
- **Social Features** - Like and comment on posts
- **User Profiles** - Follow/unfollow users, view profiles
- **Responsive Design** - Modern UI with Tailwind CSS
-  **Real-time Updates** - Dynamic content loading
-  **AWS Deployment** - Production-ready cloud infrastructure

## ğŸ› ï¸ Tech Stack

### Frontend
- **React 18** with TypeScript for type safety
- **Tailwind CSS** for modern styling
- **React Router** for client-side routing
- **React Hook Form** for form validation
- **Axios** for API communication
- **Lucide React** for beautiful icons
- **React Hot Toast** for notifications

### Backend
- **Node.js** with Express.js framework
- **Prisma ORM** with PostgreSQL database
- **JWT** for secure authentication
- **Multer** for file upload handling
- **bcrypt** for password hashing
- **Express Validator** for input validation
- **Helmet** for security headers
- **Morgan** for request logging

### DevOps & Deployment
- **Docker** for containerization
- **AWS CloudFormation** for infrastructure as code
- **AWS ECS** for container orchestration
- **AWS RDS** for managed PostgreSQL
- **AWS S3** for file storage
- **AWS ALB** for load balancing
- **GitHub Actions** ready for CI/CD

## Quick Start

### Prerequisites
- Node.js 18+ 
- PostgreSQL 15+
- Git

### Option 1: Automated Setup
```bash
# Clone and setup everything
git clone <repository-url>
cd Social_Media_App
chmod +x setup.sh
./setup.sh
```

### Option 2: Manual Setup

1. **Clone the repository**
   ```bash
   git clone <repository-url>
   cd Social_Media_App
   ```

2. **Backend Setup**
   ```bash
   cd backend
   npm install
   cp .env.example .env
   # Edit .env with your database credentials
   npx prisma migrate dev --name init
   npx prisma generate
   npm run db:seed  # Optional: Add demo data
   ```

3. **Frontend Setup**
   ```bash
   cd ../frontend
   npm install
   cp .env.example .env
   # Edit .env if needed
   ```

4. **Start Development Servers**
   ```bash
   # Terminal 1 - Backend
   cd backend && npm run dev

   # Terminal 2 - Frontend  
   cd frontend && npm start
   ```

5. **Access the Application**
   - Frontend: http://localhost:3000
   - Backend API: http://localhost:5000
   - API Docs: http://localhost:5000/health

## Project Structure

```
Arya.social/
â”œâ”€â”€ backend/                    # Node.js API Server
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ controllers/        # Business logic handlers
â”‚   â”‚   â”œâ”€â”€ middleware/         # Custom middleware (auth, validation)
â”‚   â”‚   â”œâ”€â”€ routes/             # API route definitions
â”‚   â”‚   â”œâ”€â”€ services/           # External service integrations
â”‚   â”‚   â”œâ”€â”€ utils/              # Helper functions
â”‚   â”‚   â”œâ”€â”€ app.js              # Express app configuration
â”‚   â”‚   â””â”€â”€ server.js           # Server entry point
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â”œâ”€â”€ schema.prisma       # Database schema
â”‚   â”‚   â”œâ”€â”€ migrations/         # Database migrations
â”‚   â”‚   â””â”€â”€ seed.js             # Sample data seeder
â”‚   â”œâ”€â”€ uploads/                # File upload storage
â”‚   â”œâ”€â”€ Dockerfile              # Container configuration
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/                   # React Application
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/         # Reusable UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/             # Base UI components
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/         # Layout components
â”‚   â”‚   â”‚   â””â”€â”€ posts/          # Post-related components
â”‚   â”‚   â”œâ”€â”€ pages/              # Route page components
â”‚   â”‚   â”œâ”€â”€ contexts/           # React contexts (Auth)
â”‚   â”‚   â”œâ”€â”€ hooks/              # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ services/           # API service functions
â”‚   â”‚   â”œâ”€â”€ utils/              # Utility functions
â”‚   â”‚   â”œâ”€â”€ types/              # TypeScript type definitions
â”‚   â”‚   â””â”€â”€ index.tsx           # Application entry point
â”‚   â”œâ”€â”€ public/                 # Static assets
â”‚   â”œâ”€â”€ Dockerfile              # Container configuration
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ deployment/                 # AWS Infrastructure
â”‚   â”œâ”€â”€ aws-infrastructure.yml  # CloudFormation template
â”‚   â”œâ”€â”€ docker-compose.yml      # Local development
â”‚   â””â”€â”€ deploy.sh               # Deployment script
â””â”€â”€ README.md
```

## Configuration

### Environment Variables

**Backend (.env)**
```env
DATABASE_URL="postgresql://user:password@localhost:5432/social_media_db"
JWT_SECRET="your-super-secret-jwt-key"
JWT_EXPIRES_IN="7d"
PORT=5000
NODE_ENV="development"
FRONTEND_URL="http://localhost:3000"
MAX_FILE_SIZE=5242880
UPLOAD_PATH="./uploads"
```

**Frontend (.env)**
```env
REACT_APP_API_URL=http://localhost:5000/api
REACT_APP_APP_NAME="Social Media App"
```

##  Database Schema

The application uses PostgreSQL with Prisma ORM. Key entities:

- **Users** - Authentication and profile data
- **Posts** - User-generated content with images
- **Comments** - Post discussions
- **Likes** - Post engagement
- **Follows** - User relationships

##  Authentication & Security

- **JWT Tokens** with secure secret rotation
- **Password Hashing** using bcrypt with salt rounds
- **Input Validation** with express-validator
- **Rate Limiting** to prevent abuse
- **CORS Configuration** for cross-origin requests
- **Security Headers** via Helmet.js
- **File Upload Validation** with type and size limits

##  Deployment

### Local Development with Docker
```bash
cd deployment
docker-compose up --build
```

### AWS Production Deployment
```bash
cd deployment
chmod +x deploy.sh
./deploy.sh production
```

This creates:
- VPC with public/private subnets
- RDS PostgreSQL database
- ECS cluster with Fargate
- Application Load Balancer
- S3 bucket for file storage
- CloudFormation stack management

## ğŸ“Š API Endpoints

### Authentication
- `POST /api/auth/register` - User registration
- `POST /api/auth/login` - User login
- `GET /api/auth/me` - Get current user
- `PUT /api/auth/me` - Update profile

### Posts
- `GET /api/posts` - Get all posts (paginated)
- `POST /api/posts` - Create new post
- `GET /api/posts/:id` - Get single post
- `PUT /api/posts/:id` - Update post
- `DELETE /api/posts/:id` - Delete post
- `POST /api/posts/:id/like` - Toggle like

### Comments
- `GET /api/posts/:id/comments` - Get post comments
- `POST /api/posts/:id/comments` - Add comment
- `DELETE /api/posts/comments/:id` - Delete comment

### Users
- `GET /api/users` - Get all users
- `GET /api/users/:id` - Get user profile
- `GET /api/users/:id/posts` - Get user posts
- `POST /api/users/:id/follow` - Toggle follow

##  Testing

```bash
# Backend tests
cd backend && npm test

# Frontend tests  
cd frontend && npm test
```

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### Development Guidelines
- Follow TypeScript best practices
- Use meaningful commit messages
- Add tests for new features
- Update documentation as needed
- Follow the existing code style

##  Demo Accounts

After running the seed script:
- **Email:** john@example.com **Password:** password123
- **Email:** jane@example.com **Password:** password123


**Database Connection Error**
```bash
# Check PostgreSQL is running
brew services start postgresql  # macOS
sudo service postgresql start   # Linux
```

**Port Already in Use**
```bash
# Kill process on port 5000
lsof -ti:5000 | xargs kill -9
```

**Module Not Found Errors**
```bash
# Clear node_modules and reinstall
rm -rf node_modules package-lock.json
npm install
```

##  License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

##  Acknowledgments

- React team for the amazing framework
- Prisma for the excellent ORM
- Tailwind CSS for beautiful styling
- AWS for reliable cloud infrastructure

---
