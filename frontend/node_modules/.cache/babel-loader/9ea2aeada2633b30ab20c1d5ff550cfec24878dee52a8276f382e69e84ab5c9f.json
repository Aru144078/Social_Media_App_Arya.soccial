{"ast":null,"code":"var _jsxFileName = \"/Users/Personall/Desktop/Social_Media_App/frontend/src/pages/Home.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { postsService } from './services/posts';\nimport PostCard from './components/posts/PostCard';\nimport CreatePostForm from './components/posts/CreatePostForm';\nimport Button from './components/ui/Button';\nimport { Loader2 } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Home = () => {\n  _s();\n  const [posts, setPosts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n  const fetchPosts = async (page = 1, append = false) => {\n    try {\n      const response = await postsService.getPosts(page, 10);\n      const newPosts = response.data.posts || [];\n      if (append) {\n        setPosts(prev => [...prev, ...newPosts]);\n      } else {\n        setPosts(newPosts);\n      }\n      setHasMore(response.data.pagination.hasNext);\n      setCurrentPage(page);\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n    } finally {\n      setLoading(false);\n      setLoadingMore(false);\n    }\n  };\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n  const handlePostCreated = () => {\n    fetchPosts(1, false);\n  };\n  const handlePostUpdate = updatedPost => {\n    setPosts(prev => prev.map(post => post.id === updatedPost.id ? updatedPost : post));\n  };\n  const handlePostDelete = postId => {\n    setPosts(prev => prev.filter(post => post.id !== postId));\n  };\n  const loadMorePosts = async () => {\n    if (!hasMore || loadingMore) return;\n    setLoadingMore(true);\n    await fetchPosts(currentPage + 1, true);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center min-h-[400px]\",\n      children: /*#__PURE__*/_jsxDEV(Loader2, {\n        className: \"h-8 w-8 animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-2xl mx-auto space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(CreatePostForm, {\n      onPostCreated: handlePostCreated\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-6\",\n      children: posts.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-12\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-muted-foreground\",\n          children: \"No posts yet. Be the first to share something!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this) : posts.map(post => /*#__PURE__*/_jsxDEV(PostCard, {\n        post: post,\n        onUpdate: handlePostUpdate,\n        onDelete: handlePostDelete\n      }, post.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), hasMore && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center py-6\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outline\",\n        onClick: loadMorePosts,\n        loading: loadingMore,\n        children: \"Load More Posts\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n};\n_s(Home, \"A7xa1rtePxjmnMCSuhcQHl/UDXM=\");\n_c = Home;\nexport default Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useState","useEffect","postsService","PostCard","CreatePostForm","Button","Loader2","jsxDEV","_jsxDEV","Home","_s","posts","setPosts","loading","setLoading","loadingMore","setLoadingMore","currentPage","setCurrentPage","hasMore","setHasMore","fetchPosts","page","append","response","getPosts","newPosts","data","prev","pagination","hasNext","error","console","handlePostCreated","handlePostUpdate","updatedPost","map","post","id","handlePostDelete","postId","filter","loadMorePosts","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onPostCreated","length","onUpdate","onDelete","variant","onClick","_c","$RefreshReg$"],"sources":["/Users/Personall/Desktop/Social_Media_App/frontend/src/pages/Home.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Post } from './types';\nimport { postsService } from './services/posts';\nimport PostCard from './components/posts/PostCard';\nimport CreatePostForm from './components/posts/CreatePostForm';\nimport Button from './components/ui/Button';\nimport { Loader2 } from 'lucide-react';\n\nconst Home: React.FC = () => {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingMore, setLoadingMore] = useState(false);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [hasMore, setHasMore] = useState(true);\n\n  const fetchPosts = async (page = 1, append = false) => {\n    try {\n      const response = await postsService.getPosts(page, 10);\n      const newPosts = response.data.posts || [];\n      \n      if (append) {\n        setPosts(prev => [...prev, ...newPosts]);\n      } else {\n        setPosts(newPosts);\n      }\n      \n      setHasMore(response.data.pagination.hasNext);\n      setCurrentPage(page);\n    } catch (error) {\n      console.error('Error fetching posts:', error);\n    } finally {\n      setLoading(false);\n      setLoadingMore(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const handlePostCreated = () => {\n    fetchPosts(1, false);\n  };\n\n  const handlePostUpdate = (updatedPost: Post) => {\n    setPosts(prev => prev.map(post => \n      post.id === updatedPost.id ? updatedPost : post\n    ));\n  };\n\n  const handlePostDelete = (postId: string) => {\n    setPosts(prev => prev.filter(post => post.id !== postId));\n  };\n\n  const loadMorePosts = async () => {\n    if (!hasMore || loadingMore) return;\n    \n    setLoadingMore(true);\n    await fetchPosts(currentPage + 1, true);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-[400px]\">\n        <Loader2 className=\"h-8 w-8 animate-spin\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-2xl mx-auto space-y-6\">\n      <CreatePostForm onPostCreated={handlePostCreated} />\n      \n      <div className=\"space-y-6\">\n        {posts.length === 0 ? (\n          <div className=\"text-center py-12\">\n            <p className=\"text-muted-foreground\">No posts yet. Be the first to share something!</p>\n          </div>\n        ) : (\n          posts.map((post) => (\n            <PostCard\n              key={post.id}\n              post={post}\n              onUpdate={handlePostUpdate}\n              onDelete={handlePostDelete}\n            />\n          ))\n        )}\n      </div>\n\n      {hasMore && (\n        <div className=\"text-center py-6\">\n          <Button\n            variant=\"outline\"\n            onClick={loadMorePosts}\n            loading={loadingMore}\n          >\n            Load More Posts\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}